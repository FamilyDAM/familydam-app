(this.webpackJsonpusermanager=this.webpackJsonpusermanager||[]).push([[0],{249:function(e,t,n){},512:function(e){e.exports=JSON.parse("{}")},513:function(e,t,n){"use strict";n.r(t);var a=n(226),s=n(0),r=n.n(s),i=n(26),o=n.n(i),l=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function registerValidSW(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var c=n(224),u=n(562),d=n(223),p=n.n(d),h=n(190),m=n.n(h),g=n(191),f=n.n(g),b=(n(249),n(17)),v=n(20),C=n(34),k=n(33),y=n(170),E=n(30),w=n(569),S=n(11),O=n(566),x=n(29),j=n(217),U=n(209),N=n(182),A=n(552),M=n(227),L=n(571),T=n(553),W=n(519),F=n(554),R=n(92),G=n(216),B=n.n(G),H=n(192),I=n.n(H),D=n(37),P=new function AppSettings(){Object(b.a)(this,AppSettings),this.baseHost=new D.BehaviorSubject("http://localhost:9000"),this.basicUser=new D.BehaviorSubject(window.localStorage.getItem("u")),this.basicPwd=new D.BehaviorSubject(window.localStorage.getItem("p"))},_=function(){function LogoutService(e,t){Object(b.a)(this,LogoutService),this.sink=void 0,this.sink=t,e.subscribe(this.getUser.bind(this))}return Object(v.a)(LogoutService,[{key:"getUser",value:function getUser(e){var t=this,n=P.baseHost.getValue();fetch(n+"/logout",{method:"GET"}).then((function(e){return e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e})).catch((function(e){if(401===e.status||403===e.status)window.location="/";else{var n={code:e.status,status:e.statusText,message:e.responseText};t.sink.error(n)}}))}}]),LogoutService}(),V=new function AppActions(){Object(b.a)(this,AppActions),this.navigateTo=new D.Subject,this.logout={source:new D.Subject,sink:new D.Subject},this.logoutService=new _(this.logout.source,this.logout.sink)},z=function(e){Object(C.a)(Sidebar,e);var t=Object(k.a)(Sidebar);function Sidebar(){return Object(b.a)(this,Sidebar),t.apply(this,arguments)}return Object(v.a)(Sidebar,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return e.open!==this.props.open||e.user!==this.props.user||e.apps!==this.props.apps||e.secondaryApps!==this.props.secondaryApps}},{key:"handleLogout",value:function handleLogout(){window.localStorage.clear(),V.logout.source.next(!0),window.location="/index.html"}},{key:"findApp",value:function findApp(e,t){if(t){var n,a=Object(N.a)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(s.slug===e)return s}}catch(r){a.e(r)}finally{a.f()}}return null}},{key:"render",value:function render(){var e=this,t=this.props.classes,n=this.findApp("usermanager",this.props.secondaryApps);return r.a.createElement(M.a,{className:this.props.open?t.sidebarOpen:t.sidebarClosed},r.a.createElement(M.a,{className:this.props.open?t.sidebarUserInfo:t.sidebarUserInfoClosed},r.a.createElement("div",{className:t.sidebarProfileIcon},r.a.createElement(I.a,{style:{width:60,height:60}})),r.a.createElement("div",{className:t.sidebarProfileName},r.a.createElement(R.a,{component:"div",type:"title"},this.props.user.name," ",this.props.user.lastName)),r.a.createElement("div",{className:t.sidebarButtons},r.a.createElement(A.a,{onClick:this.handleLogout},"Logout"),n&&r.a.createElement(A.a,{onClick:function onClick(){return V.navigateTo.next(n.path)}},"Profile"))),r.a.createElement("div",{className:this.props.open?t.appListsOpen:t.appListsClosed},r.a.createElement("div",{style:{gridColumn:"1",gridRow:"1"}},r.a.createElement(R.a,{type:"title",className:this.props.open?t.openLabel:t.closedLabel,style:{paddingLeft:"16px",paddingTop:"16px",gridColumn:"1",gridRow:"1"}},"Apps")),r.a.createElement(T.a,{style:{gridColumn:"1",gridRow:"2"}},this.props.apps&&this.props.apps.map((function(n){return r.a.createElement(W.a,{button:!0,key:n.path,onClick:function onClick(){return window.location.href=n.path}},r.a.createElement(L.a,{style:{marginRight:"8px"}},r.a.createElement(B.a,null)),r.a.createElement(F.a,{primary:n.label,primaryTypographyProps:{type:"body2"},className:e.props.open?t.openLabel:t.closedLabel}))}))),r.a.createElement(T.a,{style:{gridColumn:"1",gridRow:"3"},className:this.props.open?t.closedLabel:t.openLabel},r.a.createElement(W.a,{button:!0,onClick:function onClick(){return window.location.href="://app-usermanager/index.html"}},r.a.createElement(L.a,null,r.a.createElement(I.a,{style:{width:48,height:48}}))))))}}]),Sidebar}(s.Component),$=Object(j.b)(Object(S.a)((function styleSheet(e){return{sidebarOpen:{width:"240px",height:"100vh",background:"#fff"},sidebarClosed:{width:"72px",height:"100vh",background:"#fff"},sidebarUserInfo:{width:"100%",padding:"8px",display:"grid",gridGap:"8px",gridTemplateRows:"auto",gridTemplateColumns:"60px auto"},sidebarUserInfoClosed:{display:"none"},sidebarProfileIcon:{gridColumn:"1",gridRow:"1"},sidebarProfileName:{gridColumn:"2",gridRow:"1",alignSelf:"center"},sidebarButtons:{gridColumn:"1/3",gridRow:"2",justifySelf:"center"},appListsOpen:{display:"grid",gridGap:"0px",gridTemplateRows:"24px auto",gridTemplateColumns:"auto",marginTop:"16px"},appListsClosed:{height:"90%",display:"grid",gridGap:"0px",gridTemplateRows:"0px auto 72px",gridTemplateColumns:"auto"},openLabel:{display:"inline"},closedLabel:{display:"none"}}}))(z)),J=n(555),q=n(556),K=n(557),Q=n(559),X=n(225),Y=n(558),Z=n(220),ee=n.n(Z),te=n(219),ne=n.n(te),ae=function(e){Object(C.a)(AppHeader,e);var t=Object(k.a)(AppHeader);function AppHeader(e,n){var a;return Object(b.a)(this,AppHeader),(a=t.call(this,e)).state={openMoreMenu:!1},a.handleToggle=a.handleToggle.bind(Object(x.a)(a)),a.handleOpenMoreMenu=a.handleOpenMoreMenu.bind(Object(x.a)(a)),a.handleLogout=a.handleLogout.bind(Object(x.a)(a)),a}return Object(v.a)(AppHeader,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return e.onToggle!==this.props.onToggle||e.apps!==this.props.apps||t.openMoreMenu!==this.state.openMoreMenu}},{key:"handleOpenMoreMenu",value:function handleOpenMoreMenu(e){this.setState({openMoreMenu:!0,openMoreMenuAnchorEl:e.currentTarget})}},{key:"handleToggle",value:function handleToggle(){this.props.onToggle&&this.props.onToggle()}},{key:"handleNavClick",value:function handleNavClick(e){this.props.onNavClick&&this.props.onNavClick(e)}},{key:"handleMenuClose",value:function handleMenuClose(){this.setState({openMoreMenu:!1})}},{key:"handleLogout",value:function handleLogout(){window.localStorage.clear(),V.logout.source.next(!0),window.location="/"}},{key:"render",value:function render(){var e=this,t=this.props.classes;return r.a.createElement(J.a,{className:t.root,position:"static"},r.a.createElement(q.a,null,r.a.createElement(K.a,{onClick:this.handleToggle,className:t.menuButton,color:"secondary","aria-label":"Menu"},r.a.createElement(ne.a,null)),r.a.createElement(R.a,{variant:"h5",color:"inherit",className:t.flex,onClick:function onClick(){return e.handleNavClick("://home/index.html")}},"Family ",r.a.createElement("i",null,"D.A.M")),r.a.createElement(K.a,{"aria-label":"More","aria-owns":this.state.open?"long-menu":null,"aria-haspopup":"true",onClick:this.handleOpenMoreMenu,className:t.moreButton},r.a.createElement(ee.a,null)),r.a.createElement(X.a,{id:"long-menu",keepMounted:!0,anchorEl:this.state.openMoreMenuAnchorEl,open:this.state.openMoreMenu},r.a.createElement(Y.a,{onClick:function onClick(){e.handleLogout(),e.handleMenuClose()}},"Logout"),r.a.createElement(Q.a,null),this.props.apps&&this.props.apps.map((function(t){return r.a.createElement(Y.a,{key:t.path,color:"secondary",onClick:function onClick(){e.handleNavClick(t.path),e.handleMenuClose()}},t.label)})))))}}]),AppHeader}(s.Component),se=Object(j.b)(Object(S.a)((function styleSheet(e){return{root:{width:"100%",height:"64px"},headerContainer:{display:"grid",gridTemplateRows:"auto",gridTemplateColumns:"48px auto 48px"},hamburgerMenu:{display:"block",gridRow:"1",gridColumn:"1"},mainSection:{gridRow:"1",gridColumn:"2"},rightSection:{gridRow:"2",gridColumn:"3",textAlign:"right"},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20,color:"#ffffff"},moreButton:{color:"#ffffff"}}}))(ae)),re=n(91),ie=n.n(re),oe=n(140),le=new(function(){function LoadClientAppsService(){Object(b.a)(this,LoadClientAppsService),this.isLoading=new D.BehaviorSubject(!1),this.source=new D.Subject,this.sink=new D.Subject,this.source.subscribe(this.loadApps.bind(this))}return Object(v.a)(LoadClientAppsService,[{key:"loadApps",value:function(){var e=Object(oe.a)(ie.a.mark((function _callee(e){var t,n,a,s,r,i,o,l,c;return ie.a.wrap((function _callee$(e){for(;;)switch(e.prev=e.next){case 0:return t=P.baseHost.getValue(),n=t+"/api/v1/apps/",(a=new Headers).append("Accept","application/hal+json"),this.isLoading.next(!0),e.next=7,fetch(n,{method:"GET",cache:"no-cache",headers:a,credentials:"include"});case 7:return s=e.sent,e.next=10,s.json();case 10:r=e.sent,200==s.status&&r._embedded&&r._embedded.apps&&(i=[],o=[],r._embedded.apps.forEach((function(e){e.primary?i.push(e):o.push(e)})),l=i.sort((function(e,t){return e.order-t.order})),c=o.sort((function(e,t){return e.order-t.order})),this.sink.next({primaryApps:l,secondaryApps:c}));case 12:case"end":return e.stop()}}),_callee,this)})));return function loadApps(t){return e.apply(this,arguments)}}()}]),LoadClientAppsService}()),ce=function(e){Object(C.a)(AppShell,e);var t=Object(k.a)(AppShell);function AppShell(e,n){var a;Object(b.a)(this,AppShell),a=t.call(this,e);var s=window.localStorage.getItem("AppShell.isOpen");return s||(s=void 0===e.open||e.open),a.state={isMounted:!0,isOpen:Boolean(s)},a.handleOpenCloseToggle=a.handleOpenCloseToggle.bind(Object(x.a)(a)),a.handleOpenMoreMenu=a.handleOpenMoreMenu.bind(Object(x.a)(a)),a}return Object(v.a)(AppShell,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return e.open!==this.props.open||e.user!==this.props.user||e.children!==this.props.children||t.isOpen!==this.state.isOpen||t.primaryApps!==this.state.primaryApps||t.secondaryApps!==this.state.secondaryApps}},{key:"componentDidMount",value:function componentDidMount(){var e=this;this.setState({isMounted:!0}),V.navigateTo.pipe(Object(U.a)((function(){return e.state.isMounted}))).subscribe(function(e){"://"!==e&&"://"===e.substring(0,3)?window.location.href=e.substring(2):this.props.history&&this.props.history.push(e)}.bind(this)),le.sink.pipe(Object(U.a)((function(){return e.state.isMounted}))).subscribe((function(t){t&&e.setState({primaryApps:t.primaryApps||[],secondaryApps:t.secondaryApps||[]})})),le.source.next(!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({isMounted:!1})}},{key:"handleOpenMoreMenu",value:function handleOpenMoreMenu(e){this.setState({openMoreMenu:!0,openMoreMenuAnchorEl:e.currentTarget})}},{key:"handleOpenCloseToggle",value:function handleOpenCloseToggle(){var e=!this.state.isOpen;this.setState({isOpen:e}),window.localStorage.setItem("AppShell.isOpen",e)}},{key:"handleLogout",value:function handleLogout(){window.localStorage.clear(),V.logout.source.next(!0),V.navigateTo.next("://")}},{key:"render",value:function render(){var e=this.props.classes;return this.props.user?r.a.createElement("div",{className:this.state.isOpen?e.dashboardShellContainerOpen:e.dashboardShellContainerClosed},r.a.createElement("header",{className:e.header},r.a.createElement(se,{apps:this.state.secondaryApps,onToggle:this.handleOpenCloseToggle,onNavClick:function onNavClick(e){return V.navigateTo.next(e)}})),r.a.createElement($,{user:this.props.user,apps:this.state.primaryApps,secondaryApps:this.state.secondaryApps,open:this.state.isOpen,onNavClick:function onNavClick(e){return V.navigateTo.next(e)}}),r.a.createElement("div",{className:e.main},this.props.children)):r.a.createElement("div",null)}}]),AppShell}(s.Component),ue=Object(j.b)(Object(E.f)(Object(S.a)((function styleSheet(e){return{dashboardShellContainerOpen:{display:"grid",gridTemplateRows:"64px auto",gridTemplateColumns:"240px auto"},dashboardShellContainerClosed:{display:"grid",gridTemplateRows:"64px auto",gridTemplateColumns:"72px auto"},header:{gridColumn:"1/3",gridRow:"1",position:"inherit",height:"64px"},main:{fontSize:".5rem",background:"#eee"}}}))(ce))),de=function(){function GetUsersService(e,t){Object(b.a)(this,GetUsersService),this.sink=void 0,this.sink=t,e.subscribe(this.getUser.bind(this))}return Object(v.a)(GetUsersService,[{key:"getUser",value:function getUser(e){var t=this,n=P.baseHost.getValue();fetch(n+"/api/v1/auth/user/me",{method:"GET"}).then((function(e){return e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e})).then((function(e){return e.json()})).then((function(e){e.firstName||(e.firstName=e.username),t.sink.next(e)})).catch((function(e){if(401===e.status||403===e.status)window.location="/";else{var n={code:e.status,status:e.statusText,message:e.responseText||e.message};t.sink.error(n)}}))}}]),GetUsersService}(),pe=function(){function GetAllUsersService(e,t,n){Object(b.a)(this,GetAllUsersService),this.sink=void 0,this.sink=t,e.subscribe(this.getUsers.bind(this))}return Object(v.a)(GetAllUsersService,[{key:"getUsers",value:function(){var e=Object(oe.a)(ie.a.mark((function _callee2(){var e,t,n,a;return ie.a.wrap((function _callee2$(s){for(;;)switch(s.prev=s.next){case 0:return e=P.baseHost.getValue(),t=e+"/api/v1/auth/users",(n=new Headers).append("pragma","no-cache"),n.append("cache-control","no-cache"),s.next=7,fetch(t,{method:"GET",cache:"no-cache",headers:n}).then(function(){var e=Object(oe.a)(ie.a.mark((function _callee(e){return ie.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.json());case 1:case"end":return t.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];void 0===a.firstName&&(a.firstName=a.username),t.push(a)}return t.sort((function(e,t){return e.username>t.username?1:e.username<t.username?-1:0}))})).catch((function(e){if(401===e.status||403===e.status)window.location="/";else{var t={code:e.status,status:e.statusText,message:e.responseText||e.message};console.warn(t),setTimeout((function(){he.getAllUsers.source.next(!0)}),500)}}));case 7:(a=s.sent)&&this.sink.next(a);case 9:case"end":return s.stop()}}),_callee2,this)})));return function getUsers(){return e.apply(this,arguments)}}()}]),GetAllUsersService}(),he=new function UserActions(){Object(b.a)(this,UserActions),this.getUser={source:new D.Subject,sink:new D.Subject},this.getAllUsers={source:new D.Subject,sink:new D.Subject},this.getUserService=new de(this.getUser.source,this.getUser.sink),this.getAllUsersService=new pe(this.getAllUsers.source,this.getAllUsers.sink)},me=n(141),ge=n.n(me),fe=n(560),be=n(561),ve=n(563),Ce=n(564),ke=n(221),ye=n.n(ke),Ee=n(183),we=function(e){Object(C.a)(UserListCard,e);var t=Object(k.a)(UserListCard);function UserListCard(e,n){return Object(b.a)(this,UserListCard),t.call(this,e)}return Object(v.a)(UserListCard,[{key:"componentWillMount",value:function componentWillMount(){}},{key:"componentWillUnmount",value:function componentWillUnmount(){}},{key:"render",value:function render(){var e=this,t=this.props.classes;return r.a.createElement(fe.a,{className:t.card},r.a.createElement(be.a,{avatar:r.a.createElement(L.a,{"aria-label":"recipe",className:t.avatar},this.props.user.firstName.substring(0,1)),title:r.a.createElement(ge.a,null,this.props.user.firstName),subheader:r.a.createElement(ge.a,{color:"textSecondary"},this.props.user.email)}),r.a.createElement(ve.a,null),r.a.createElement(Ce.a,{disableSpacing:!0},r.a.createElement(K.a,{"aria-label":"share"},r.a.createElement(ye.a,{onClick:function onClick(){return e.props.onEdit(e.props.user)}}))))}}]),UserListCard}(s.Component),Se=Object(S.a)((function styleSheet(e){return{card:{maxWidth:"100%",maxHeight:"200px",height:"100%"},media:{height:0,paddingTop:"56.25%"},avatar:{backgroundColor:Ee.a[500]}}}))(we),Oe=n(565),xe=n(222),je=n.n(xe),Ue=function(e){Object(C.a)(UserListCard,e);var t=Object(k.a)(UserListCard);function UserListCard(e,n){var a;return Object(b.a)(this,UserListCard),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(x.a)(a)),a}return Object(v.a)(UserListCard,[{key:"componentWillMount",value:function componentWillMount(){}},{key:"componentWillUnmount",value:function componentWillUnmount(){}},{key:"handleClick",value:function handleClick(e){V.navigateTo.next("/new")}},{key:"render",value:function render(){var e=this.props.classes;return r.a.createElement(fe.a,{className:e.card},r.a.createElement(be.a,null),r.a.createElement(ve.a,{className:e.content},r.a.createElement(Oe.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.handleClick},r.a.createElement(je.a,null)),r.a.createElement(ge.a,{align:"center",onClick:this.handleClick,style:{marginTop:"16px"}},"Add Family Member")),r.a.createElement(Ce.a,null))}}]),UserListCard}(s.Component),Ne=Object(S.a)((function styleSheet(e){return{card:{maxWidth:"100%",maxHeight:"200px",height:"100%"},content:{textAlign:"center"},fab:{margin:e.spacing(1)}}}))(Ue),Ae=function(e){Object(C.a)(UserList,e);var t=Object(k.a)(UserList);function UserList(e,n){var a;return Object(b.a)(this,UserList),(a=t.call(this,e)).handleAddUserClick=a.handleAddUserClick.bind(Object(x.a)(a)),a.handleClick=a.handleClick.bind(Object(x.a)(a)),a.handleClose=a.handleClose.bind(Object(x.a)(a)),a.handleEdit=a.handleEdit.bind(Object(x.a)(a)),a.state={isMounted:!0,isLoading:!1,anchorEl:null,users:[]},a}return Object(v.a)(UserList,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.setState({isMounted:!0,isLoading:!0}),he.getAllUsers.sink.takeWhile((function(){return e.state.isMounted})).subscribe((function(t){t&&e.setState({isLoading:!1,users:t})})),he.getAllUsers.source.next(!0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({isMounted:!1})}},{key:"handleAddUserClick",value:function handleAddUserClick(){}},{key:"handleClick",value:function handleClick(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleClose",value:function handleClose(){this.setState({anchorEl:null})}},{key:"handleEdit",value:function handleEdit(e){this.setState({anchorEl:null}),V.navigateTo.next("/u/"+e.id)}},{key:"render",value:function render(){var e=this,t=this.props.classes;return this.state.isLoading?r.a.createElement(ue,{user:this.props.user},r.a.createElement(O.a,{className:t.progress,size:50})):r.a.createElement(ue,{user:this.props.user},r.a.createElement("div",{className:t.container},this.state.users.map((function(t){return r.a.createElement(Se,{user:t,onEdit:e.handleEdit})})),r.a.createElement(Ne,null)))}}]),UserList}(s.Component),Me=Object(j.b)(Object(S.a)((function styleSheet(e){return{progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{margin:"48px",height:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gridAutoRows:"auto",gridGap:"16px"}}}))(Ae)),Le=n(568),Te=n(570),We=n(567),Fe=function(){function SaveUserService(e,t){Object(b.a)(this,SaveUserService),this.sink=void 0,this.sink=t,e.subscribe(this.getUser.bind(this))}return Object(v.a)(SaveUserService,[{key:"getUser",value:function getUser(e){var t=this,n=P.baseHost.getValue(),a=new FormData;Object.keys(e).filter((function(e){return"pwdConfirm"!=e})).forEach((function(t){return a.append(t,e[t])})),a.append(":name",e.firstName),a.append("isFamilyAdmin",!0);var s=n+"/api/v1/auth/user";e&&e.id&&(s=n+"/api/v1/auth/user/"+e.id),fetch(s,{method:"POST",body:a}).then((function(e){return e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e})).then((function(e){return e.json()})).then((function(e){return t.sink.next(e)})).catch((function(e){if(401===e.status||403===e.status)window.location="/";else{var n={code:e.status,status:e.statusText,message:e.responseText||e.message};t.sink.error(n)}}))}}]),SaveUserService}(),Re=new function UserManagerActions(){Object(b.a)(this,UserManagerActions),this.saveUser={source:new D.Subject,sink:new D.Subject},this.saveUserService=new Fe(this.saveUser.source,this.saveUser.sink)},Ge=function(e){Object(C.a)(LoadingButton,e);var t=Object(k.a)(LoadingButton);function LoadingButton(e,n){var a;return Object(b.a)(this,LoadingButton),e.style||(e.style={}),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(x.a)(a)),a}return Object(v.a)(LoadingButton,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e,t){return e.label!==this.props.label}},{key:"handleClick",value:function handleClick(e){console.log("loading button click"),this.props.onClick?this.props.onClick(e):console.dir(this.props)}},{key:"render",value:function render(){var e=this.props.classes;return r.a.createElement(A.a,{color:"primary",variant:"contained",className:e.btn,style:this.props.style,onClick:this.handleClick},this.props.isLoading&&r.a.createElement(O.a,{className:e.progress,color:"#fff",size:25}),this.props.label)}}]),LoadingButton}(s.Component),Be=Object(j.b)(Object(S.a)((function styleSheet(e){return{btn:{padding:"4px 12px"},progress:{marginRight:"8px"}}}))(Ge)),He=function(e){Object(C.a)(UserEditForm,e);var t=Object(k.a)(UserEditForm);function UserEditForm(e,n){var a;return Object(b.a)(this,UserEditForm),(a=t.call(this,e)).handleTabChange=a.handleTabChange.bind(Object(x.a)(a)),a.handleFormChange=a.handleFormChange.bind(Object(x.a)(a)),a.handleSave=a.handleSave.bind(Object(x.a)(a)),a.handleCancel=a.handleCancel.bind(Object(x.a)(a)),a.state={selectedTab:0,user:a.props.user,isLoading:!1},a}return Object(v.a)(UserEditForm,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.setState({isMounted:!0,isLoading:!1}),Re.saveUser.sink.takeWhile((function(){return e.state.isMounted})).subscribe((function(t){e.setState({user:t}),e.setState({isLoading:!1}),V.navigateTo.next("/")}))}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e,t){this.setState({user:e.user})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({isMounted:!1})}},{key:"handleTabChange",value:function handleTabChange(e,t){this.setState({selectedTab:t})}},{key:"handleFormChange",value:function handleFormChange(e){var t=this.state.user;t[e.target.id]=e.target.value,this.setState({user:t})}},{key:"handleSave",value:function handleSave(e){this.setState({isLoading:!0}),Re.saveUser.source.next(this.state.user)}},{key:"handleCancel",value:function handleCancel(e){this.setState({isLoading:!1}),this.props.onCancel?this.props.onCancel():V.navigateTo.next("/")}},{key:"render",value:function render(){var e=this.props.classes;return r.a.createElement(M.a,{className:e.outerContainer},r.a.createElement("div",{className:e.headerContainer},this.state.user&&this.state.user.id?r.a.createElement(R.a,{type:"title",variant:"h4",color:"primary",className:e.title,style:{float:"left"},display:"inline"},this.state.user.firstName," ",this.state.user.lastName):r.a.createElement(R.a,{type:"title",variant:"h4",color:"primary",className:e.title,style:{float:"left"},display:"inline"},"Create New User"),r.a.createElement("div",{style:{float:"right",margin:"16px"}},r.a.createElement(A.a,{color:"primary",style:{marginRight:"16px"},onClick:this.handleCancel},"Cancel"),r.a.createElement(Be,{style:{width:"100px"},onClick:this.handleSave,isLoading:this.state.isLoading,label:"Save"}))),r.a.createElement("div",{className:e.formContainer},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:e.twoColumnGrid},r.a.createElement("div",{className:e.leftColumn},r.a.createElement(Le.a,{id:"firstName",label:"First Name",className:e.textField,value:this.state.user.firstName,onChange:this.handleFormChange,margin:"normal"})),r.a.createElement("div",{className:e.rightColumn},r.a.createElement(Le.a,{id:"lastName",label:"Last Name",className:e.textField,value:this.state.user.lastName,onChange:this.handleFormChange,margin:"normal"}))),r.a.createElement("div",{className:e.twoColumnGrid,style:{gridGap:"48px"}},r.a.createElement("div",{className:e.leftColumn},r.a.createElement(Le.a,{id:"email",label:"Email",className:e.textField,value:this.state.user.email,onChange:this.handleFormChange,margin:"normal"})),r.a.createElement("div",{className:e.rightColumn},r.a.createElement("div",{className:e.oneColumnGrid},r.a.createElement("div",{className:e.fullColumn},r.a.createElement("div",null,"Is Family Admin"),r.a.createElement("br",{clear:"left"}),r.a.createElement(Le.a,{id:"pwd",label:"pwd",type:"password",className:e.textField,value:this.state.user.pwd,onChange:this.handleFormChange,margin:"normal"}),r.a.createElement("br",{clear:"left"}),r.a.createElement(Le.a,{id:"pwdConfim",label:"pwdConfim",type:"password",className:e.textField,value:this.state.user.pwdConfim,margin:"normal"}),r.a.createElement("br",{clear:"left"}))))),r.a.createElement("div",{className:e.oneColumnGrid},this.state.user.id&&r.a.createElement("div",{className:e.fullColumn,style:{gridRow:"4"}},r.a.createElement(Te.a,{value:this.state.selectedTab,fullWidth:!0,indicatorColor:"primary",textColor:"primary",className:e.textField,onChange:this.handleTabChange},r.a.createElement(We.a,{label:"Social Networks"}),r.a.createElement(We.a,{label:"Permission"}),r.a.createElement(We.a,{label:"Friends"})),0===this.state.selectedTab&&r.a.createElement("div",{className:e.tabContainer},"TBD Social Networks"),1===this.state.selectedTab&&r.a.createElement("div",{className:e.tabContainer},"TBD Permission"),2===this.state.selectedTab&&r.a.createElement("div",{className:e.tabContainer},"TBD Friends"))))))}}]),UserEditForm}(s.Component),Ie=Object(S.a)((function styleSheet(e){return{outerContainer:{width:"100%",height:"100%",backgroundColor:"#FFFFFF"},title:{padding:"16px"},headerContainer:{height:"64px",borderBottom:"1px solid #000000"},formContainer:{marginLeft:"48px",marginRight:"48px",clear:"left"},oneColumnGrid:{display:"grid",gridGap:"0px",gridTemplateRows:"auto auto 40px auto auto",gridTemplateColumns:"1fr auto 1fr"},twoColumnGrid:{display:"grid",gridGap:"16px",gridTemplateRows:"auto",gridTemplateColumns:"1fr 1fr"},leftColumn:{gridColumn:"1",gridRow:"1"},rightColumn:{gridColumn:"2",gridRow:"1"},fullColumn:{gridColumn:"1/4",gridRow:"1"},textField:{width:"100%",minWidth:"200px"},tabContainer:{width:"100%",minHeight:"200px",minWidth:"200px",padding:"24px"},rightTextField:{textAlign:"right",margin:"16px",width:"100%"}}}))(He),De=function(e){Object(C.a)(UserDetails,e);var t=Object(k.a)(UserDetails);function UserDetails(e,n){var a;return Object(b.a)(this,UserDetails),(a=t.call(this,e)).state={isMounted:!0,isLoading:!1,anchorEl:null,error:null,user:e.user,selectedUser:{id:null,firstName:"",lastName:""}},a}return Object(v.a)(UserDetails,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.setState({isMounted:!0,isLoading:!0});var t=this.props.userId;he.getAllUsers.sink.takeWhile((function(){return e.state.isMounted})).subscribe((function(n){if(n){e.setState({isLoading:!1});var a,s=Object(N.a)(n);try{for(s.s();!(a=s.n()).done;){var r=a.value;if(r.id===t){e.setState({selectedUser:r});break}}}catch(i){s.e(i)}finally{s.f()}}})),he.getAllUsers.source.next(!0),t||this.setState({isMounted:!0,isLoading:!1})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({isMounted:!1})}},{key:"render",value:function render(){var e=this.props.classes;return this.state.isLoading?r.a.createElement(ue,null,r.a.createElement(O.a,{className:e.progress,size:50}),this.state.error&&r.a.createElement(R.a,null,this.state.error)):r.a.createElement(ue,{user:this.state.user},r.a.createElement("div",{className:e.container},r.a.createElement(Ie,{user:this.state.selectedUser})))}}]),UserDetails}(s.Component),Pe=Object(j.b)(Object(E.f)(Object(S.a)((function styleSheet(e){return{progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{margin:"48px",height:"100%"}}}))(De))),_e=function(e){Object(C.a)(App,e);var t=Object(k.a)(App);function App(e,n){var a;return Object(b.a)(this,App),(a=t.call(this,e,n)).state={context:n,locale:"en-EN",isAuthenticated:!1,isLoading:!0,isMounted:!0},a}return Object(v.a)(App,[{key:"componentWillMount",value:function componentWillMount(){var e=this;this.setState({isMounted:!0}),he.getUser.sink.takeWhile((function(){return e.state.isMounted})).subscribe((function(t){t&&e.setState({isLoading:!1,isAuthenticated:!0,user:t})})),he.getUser.source.next(null)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.setState({isMounted:!1})}},{key:"render",value:function render(){var e=this,t=this.props.classes,n="en-EN";return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(O.a,{className:t.progress,size:50})):r.a.createElement(w.a,{locale:n,key:n,messages:this.props.i18nMessages[n]},r.a.createElement(y.a,null,r.a.createElement(E.c,null,r.a.createElement(E.a,{path:"/",exact:!0,component:function component(){return r.a.createElement(Me,{user:e.state.user})}}),r.a.createElement(E.a,{path:"/new",exact:!0,component:function component(t){return r.a.createElement(Pe,{user:e.state.user,userId:t.match.params.user})}}),r.a.createElement(E.a,{path:"/u/:user",component:function component(t){return r.a.createElement(Pe,{user:e.state.user,userId:t.match.params.user})}}))))}}]),App}(s.Component),Ve=Object(S.a)((function styleSheet(e){return{progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}))(_e),ze={"en-EN":n(512)},$e=Object(c.a)({palette:{type:"light",primary:p.a,secondary:Object(a.a)({},m.a),error:f.a}});!function renderApp(){o.a.render(r.a.createElement(u.a,{theme:$e},r.a.createElement(Ve,{i18nMessages:ze})),document.getElementById("root"))}(),function register(){if("serviceWorker"in navigator){if(new URL("/usermanager",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/usermanager","/service-worker.js");l?function checkValidServiceWorker(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):registerValidSW(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):registerValidSW(e)}))}}()}},[[513,1,2]]]);
//# sourceMappingURL=main.1a958035.chunk.js.map