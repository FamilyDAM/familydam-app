(this.webpackJsonpusermanager=this.webpackJsonpusermanager||[]).push([[0],{191:function(e,t){},216:function(e,t,a){e.exports=a(508)},230:function(e,t){},236:function(e,t){},240:function(e,t,a){},507:function(e){e.exports=JSON.parse("{}")},508:function(e,t,a){"use strict";a.r(t);var s=a(204),n=a(0),r=a.n(n),i=a(22),o=a.n(i),l=a(37);const c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function registerValidSW(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}var p=a(202),d=a(562),h=a(201),u=a.n(h),m=a(171),g=a.n(m),b=a(172),v=a.n(b),C=(a(240),a(152)),f=a(80),E=a(10),w=a(560),x=a(162),k=a(546),S=a(205),N=a(548),y=a(547),A=a(513),T=a(549),U=a(82),M=a(195),L=a.n(M),O=a(173),j=a.n(O),_=a(33),W=a(192),F=a.n(W);var R=class LoadClientAppsService_LoginService{constructor(e,t){this.sink=void 0,this.sink=t,e.subscribe(this.loadApps.bind(this))}loadApps(e){F.a.get("/api/v1/core/clientapps").withCredentials().set("Accept","application/json").end((e,t)=>{if(e)if(401===e.status)I.navigateTo.next("/");else if(403===e.status){var a={code:e.status,message:"Invalid Login (todo: show toast)"};this.sink.error(a)}else{console.dir(e);var s={code:e.status,status:e.statusText,message:e.responseText};this.sink.error(s)}else this.sink.next({primaryApps:t.body.apps.primary,secondaryApps:t.body.apps.secondary})})}};var B=new class AppSettings_AppSettings{constructor(){this.baseHost=new _.BehaviorSubject("http://locaalhost:9000"),this.basicUser=new _.BehaviorSubject(window.localStorage.getItem("u")),this.basicPwd=new _.BehaviorSubject(window.localStorage.getItem("p"))}};var G=class LogoutService_LogoutService{constructor(e,t){this.sink=void 0,this.sink=t,e.subscribe(this.getUser.bind(this))}getUser(e){const t=B.baseHost.getValue();fetch(t+"/logout",{method:"GET"}).then(e=>(e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e)).catch(e=>{if(401===e.status||403===e.status)window.location="/";else{var t={code:e.status,status:e.statusText,message:e.responseText};this.sink.error(t)}})}};var I=new class AppActions_AppActions{constructor(){this.navigateTo=new _.Subject,this.logout={source:new _.Subject,sink:new _.Subject},this.loadClientApps={source:new _.Subject,sink:new _.Subject},this.loadClientAppsService=new R(this.loadClientApps.source,this.loadClientApps.sink),this.logoutService=new G(this.logout.source,this.logout.sink)}};class Sidebar_Sidebar extends n.Component{constructor(e,t){super(e),this.handleNavClick=this.handleNavClick.bind(this)}shouldComponentUpdate(e,t){return e.open!==this.props.open||e.user!==this.props.user||e.apps!==this.props.apps||e.secondaryApps!==this.props.secondaryApps}handleNavClick(e){this.props.onNavClick&&this.props.onNavClick(e)}handleLogout(){window.localStorage.clear(),I.logout.source.next(!0),I.navigateTo.next("://")}findApp(e,t){if(t){var a,s=Object(x.a)(t);try{for(s.s();!(a=s.n()).done;){let t=a.value;if(t.slug===e)return t}}catch(n){s.e(n)}finally{s.f()}}return null}render(){var e=this.props.classes,t=this.findApp("usermanager",this.props.secondaryApps);return r.a.createElement(S.a,{className:this.props.open?e.sidebarOpen:e.sidebarClosed},r.a.createElement(S.a,{className:this.props.open?e.sidebarUserInfo:e.sidebarUserInfoClosed},r.a.createElement("div",{className:e.sidebarProfileIcon},r.a.createElement(j.a,{style:{width:60,height:60}})),r.a.createElement("div",{className:e.sidebarProfileName},r.a.createElement(U.a,{component:"div",type:"title"},this.props.user.firstName," ",this.props.user.lastName)),r.a.createElement("div",{className:e.sidebarButtons},r.a.createElement(k.a,{onClick:this.handleLogout},"Logout"),t&&r.a.createElement(k.a,{onClick:()=>I.navigateTo.next(t.path)},"Profile"))),r.a.createElement("div",{className:this.props.open?e.appListsOpen:e.appListsClosed},r.a.createElement("div",{style:{gridColumn:"1",gridRow:"1"}},r.a.createElement(U.a,{type:"title",className:this.props.open?e.openLabel:e.closedLabel,style:{paddingLeft:"16px",paddingTop:"16px",gridColumn:"1",gridRow:"1"}},"Apps")),r.a.createElement(y.a,{style:{gridColumn:"1",gridRow:"2"}},this.props.apps&&this.props.apps.map(t=>r.a.createElement(A.a,{button:!0,key:t.path,onClick:()=>this.handleNavClick(t.path)},r.a.createElement(N.a,{style:{marginRight:"8px"}},r.a.createElement(L.a,null)),r.a.createElement(T.a,{primary:t.label,primaryTypographyProps:{type:"body2"},className:this.props.open?e.openLabel:e.closedLabel})))),r.a.createElement(y.a,{style:{gridColumn:"1",gridRow:"3"},className:this.props.open?e.closedLabel:e.openLabel},r.a.createElement(A.a,{button:!0,onClick:()=>this.handleNavClick("://app-usermanager/index.html")},r.a.createElement(N.a,null,r.a.createElement(j.a,{style:{width:48,height:48}}))))))}}var H=Object(l.c)(Object(E.a)(e=>({sidebarOpen:{width:"240px",height:"100vh",background:"#fff"},sidebarClosed:{width:"72px",height:"100vh",background:"#fff"},sidebarUserInfo:{width:"100%",padding:"8px",display:"grid",gridGap:"8px",gridTemplateRows:"auto",gridTemplateColumns:"60px auto"},sidebarUserInfoClosed:{display:"none"},sidebarProfileIcon:{gridColumn:"1",gridRow:"1"},sidebarProfileName:{gridColumn:"2",gridRow:"1",alignSelf:"center"},sidebarButtons:{gridColumn:"1/3",gridRow:"2",justifySelf:"center"},appListsOpen:{display:"grid",gridGap:"0px",gridTemplateRows:"24px auto",gridTemplateColumns:"auto",marginTop:"16px"},appListsClosed:{height:"90%",display:"grid",gridGap:"0px",gridTemplateRows:"0px auto 72px",gridTemplateColumns:"auto"},openLabel:{display:"inline"},closedLabel:{display:"none"}}))(Sidebar_Sidebar)),P=a(550),D=a(551),V=a(552),z=a(554),J=a(203),$=a(553),q=a(197),K=a.n(q),Q=a(196),X=a.n(Q);class AppHeader_AppHeader extends n.Component{constructor(e,t){super(e),this.state={openMoreMenu:!1},this.handleToggle=this.handleToggle.bind(this),this.handleOpenMoreMenu=this.handleOpenMoreMenu.bind(this),this.handleLogout=this.handleLogout.bind(this)}shouldComponentUpdate(e,t){return e.onToggle!==this.props.onToggle||e.apps!==this.props.apps||t.openMoreMenu!==this.state.openMoreMenu}handleOpenMoreMenu(e){this.setState({openMoreMenu:!0,openMoreMenuAnchorEl:e.currentTarget})}handleToggle(){this.props.onToggle&&this.props.onToggle()}handleNavClick(e){this.props.onNavClick&&this.props.onNavClick(e)}handleMenuClose(){this.setState({openMoreMenu:!1})}handleLogout(){window.localStorage.clear(),I.logout.source.next(!0),window.location="/"}render(){var e=this.props.classes;return r.a.createElement(P.a,{className:e.root,position:"static"},r.a.createElement(D.a,null,r.a.createElement(V.a,{onClick:this.handleToggle,className:e.menuButton,color:"contrast","aria-label":"Menu"},r.a.createElement(X.a,null)),r.a.createElement(U.a,{variant:"h5",color:"inherit",className:e.flex,onClick:()=>this.handleNavClick("://home/index.html")},"Family ",r.a.createElement("i",null,"D.A.M")),r.a.createElement(V.a,{"aria-label":"More","aria-owns":this.state.open?"long-menu":null,"aria-haspopup":"true",onClick:this.handleOpenMoreMenu,className:e.moreButton},r.a.createElement(K.a,null)),r.a.createElement(J.a,{id:"long-menu",keepMounted:!0,anchorEl:this.state.openMoreMenuAnchorEl,open:this.state.openMoreMenu},r.a.createElement($.a,{onClick:()=>{this.handleLogout(),this.handleMenuClose()}},"Logout"),r.a.createElement(z.a,null),this.props.apps&&this.props.apps.map(e=>r.a.createElement($.a,{key:e.path,color:"contrast",onClick:()=>{this.handleNavClick(e.path),this.handleMenuClose()}},e.label)))))}}var Y=Object(l.c)(Object(E.a)(e=>({root:{width:"100%",height:"64px"},headerContainer:{display:"grid",gridTemplateRows:"auto",gridTemplateColumns:"48px auto 48px"},hamburgerMenu:{display:"block",gridRow:"1",gridColumn:"1"},mainSection:{gridRow:"1",gridColumn:"2"},rightSection:{gridRow:"2",gridColumn:"3",textAlign:"right"},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20,color:"#ffffff"},moreButton:{color:"#ffffff"}}))(AppHeader_AppHeader));class AppShell_AppShell extends n.Component{constructor(e,t){super(e);var a=window.localStorage.getItem("AppShell.isOpen");a||(a=void 0===e.open||e.open),this.state={isMounted:!0,isOpen:Boolean(a)},this.handleOpenCloseToggle=this.handleOpenCloseToggle.bind(this),this.handleOpenMoreMenu=this.handleOpenMoreMenu.bind(this)}shouldComponentUpdate(e,t){return e.open!==this.props.open||e.user!==this.props.user||e.children!==this.props.children||t.isOpen!==this.state.isOpen||t.primaryApps!==this.state.primaryApps||t.secondaryApps!==this.state.secondaryApps}componentWillMount(){this.setState({isMounted:!0}),I.navigateTo.takeWhile(()=>this.state.isMounted).subscribe(function(e){"://"!==e&&"://"===e.substring(0,3)?window.location.href=e.substring(2):this.props.history&&this.props.history.push(e)}.bind(this)),I.loadClientApps.sink.subscribe(e=>{e&&this.setState({primaryApps:e.primaryApps,secondaryApps:e.secondaryApps})}),I.loadClientApps.source.next(!0)}componentWillUnmount(){this.setState({isMounted:!1})}handleOpenMoreMenu(e){this.setState({openMoreMenu:!0,openMoreMenuAnchorEl:e.currentTarget})}handleOpenCloseToggle(){var e=!this.state.isOpen;this.setState({isOpen:e}),window.localStorage.setItem("AppShell.isOpen",e)}handleLogout(){window.localStorage.clear(),I.logout.source.next(!0),I.navigateTo.next("://")}render(){var e=this.props.classes;return this.props.user?r.a.createElement("div",{className:this.state.isOpen?e.dashboardShellContainerOpen:e.dashboardShellContainerClosed},r.a.createElement("header",{className:e.header},r.a.createElement(Y,{apps:this.state.secondaryApps,onToggle:this.handleOpenCloseToggle,onNavClick:e=>I.navigateTo.next(e)})),r.a.createElement(H,{user:this.props.user,apps:this.state.primaryApps,secondaryApps:this.state.secondaryApps,open:this.state.isOpen,onNavClick:e=>I.navigateTo.next(e)}),r.a.createElement("div",{className:e.main},this.props.children)):r.a.createElement("div",null)}}var Z=Object(l.c)(Object(f.f)(Object(E.a)(e=>({dashboardShellContainerOpen:{display:"grid",gridTemplateRows:"64px auto",gridTemplateColumns:"240px auto"},dashboardShellContainerClosed:{display:"grid",gridTemplateRows:"64px auto",gridTemplateColumns:"72px auto"},header:{gridColumn:"1/3",gridRow:"1",position:"inherit",height:"64px"},main:{fontSize:".5rem",background:"#eee"}}))(AppShell_AppShell)));var ee=class GetUserService_GetUsersService{constructor(e,t){this.sink=void 0,this.sink=t,e.subscribe(this.getUser.bind(this))}getUser(e){const t=B.baseHost.getValue();fetch(t+"/api/v1/auth/user/me",{method:"GET"}).then(e=>(e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e)).then(e=>e.json()).then(e=>{e.firstName||(e.firstName=e.username),this.sink.next(e)}).catch(e=>{if(401===e.status||403===e.status)window.location="/";else{var t={code:e.status,status:e.statusText,message:e.responseText||e.message};this.sink.error(t)}})}},te=a(126),ae=a.n(te),se=a(175);var ne=class GetAllUsersService_GetAllUsersService{constructor(e,t,a){this.sink=void 0,this.sink=t,e.subscribe(this.getUsers.bind(this))}getUsers(){var e=this;return Object(se.a)(ae.a.mark((function _callee2(){var t,a,s,n;return ae.a.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return t=B.baseHost.getValue(),a=t+"/api/v1/auth/users",(s=new Headers).append("pragma","no-cache"),s.append("cache-control","no-cache"),r.next=7,fetch(a,{method:"GET",cache:"no-cache",headers:s}).then(function(){var e=Object(se.a)(ae.a.mark((function _callee(e){return ae.a.wrap((function _callee$(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.json());case 1:case"end":return t.stop()}}),_callee)})));return function(t){return e.apply(this,arguments)}}()).then(e=>{for(var t=[],a=0;a<e.length;a++){var s=e[a];void 0===s.firstName&&(s.firstName=s.username),t.push(s)}return t.sort((function(e,t){return e.username>t.username?1:e.username<t.username?-1:0}))}).catch(e=>{if(401===e.status||403===e.status)window.location="/";else{var t={code:e.status,status:e.statusText,message:e.responseText||e.message};console.warn(t),setTimeout(()=>{re.getAllUsers.source.next(!0)},500)}});case 7:(n=r.sent)&&e.sink.next(n);case 9:case"end":return r.stop()}}),_callee2)})))()}};var re=new class UserActions_UserActions{constructor(){this.getUser={source:new _.Subject,sink:new _.Subject},this.getAllUsers={source:new _.Subject,sink:new _.Subject},this.getUserService=new ee(this.getUser.source,this.getUser.sink),this.getAllUsersService=new ne(this.getAllUsers.source,this.getAllUsers.sink)}},ie=a(124),oe=a.n(ie),le=a(555),ce=a(556),pe=a(557),de=a(558),he=a(199),ue=a.n(he),me=a(163);class userlistcard_UserListCard extends n.Component{constructor(e,t){super(e)}componentWillMount(){}componentWillUnmount(){}render(){var e=this.props.classes;return r.a.createElement(le.a,{className:e.card},r.a.createElement(ce.a,{avatar:r.a.createElement(N.a,{"aria-label":"recipe",className:e.avatar},this.props.user.firstName.substring(0,1)),title:r.a.createElement(oe.a,null,this.props.user.firstName),subheader:r.a.createElement(oe.a,{color:"textSecondary"},this.props.user.email)}),r.a.createElement(pe.a,null),r.a.createElement(de.a,{disableSpacing:!0},r.a.createElement(V.a,{"aria-label":"share"},r.a.createElement(ue.a,{onClick:()=>this.props.onEdit(this.props.user)}))))}}var ge=Object(E.a)(e=>({card:{maxWidth:"100%",maxHeight:"200px",height:"100%"},media:{height:0,paddingTop:"56.25%"},avatar:{backgroundColor:me.a[500]}}))(userlistcard_UserListCard),be=a(559),ve=a(200),Ce=a.n(ve);class addusercard_UserListCard extends n.Component{constructor(e,t){super(e),this.handleClick=this.handleClick.bind(this)}componentWillMount(){}componentWillUnmount(){}handleClick(e){I.navigateTo.next("/new")}render(){var e=this.props.classes;return r.a.createElement(le.a,{className:e.card},r.a.createElement(ce.a,null),r.a.createElement(pe.a,{className:e.content},r.a.createElement(be.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.handleClick},r.a.createElement(Ce.a,null)),r.a.createElement(oe.a,{align:"center",onClick:this.handleClick,style:{marginTop:"16px"}},"Add Family Member")),r.a.createElement(de.a,null))}}var fe=Object(E.a)(e=>({card:{maxWidth:"100%",maxHeight:"200px",height:"100%"},content:{textAlign:"center"},fab:{margin:e.spacing(1)}}))(addusercard_UserListCard);class UserList_UserList extends n.Component{constructor(e,t){super(e),this.handleAddUserClick=this.handleAddUserClick.bind(this),this.handleClick=this.handleClick.bind(this),this.handleClose=this.handleClose.bind(this),this.handleEdit=this.handleEdit.bind(this),this.state={isMounted:!0,isLoading:!1,anchorEl:null,users:[]}}componentWillMount(){this.setState({isMounted:!0,isLoading:!0}),re.getAllUsers.sink.takeWhile(()=>this.state.isMounted).subscribe(e=>{e&&this.setState({isLoading:!1,users:e})}),re.getAllUsers.source.next(!0)}componentWillUnmount(){this.setState({isMounted:!1})}handleAddUserClick(){}handleClick(e){this.setState({anchorEl:e.currentTarget})}handleClose(){this.setState({anchorEl:null})}handleEdit(e){this.setState({anchorEl:null}),I.navigateTo.next("/u/"+e.id)}render(){var e=this.props.classes;return this.state.isLoading?r.a.createElement(Z,{user:this.props.user},r.a.createElement(w.a,{className:e.progress,size:50})):r.a.createElement(Z,{user:this.props.user},r.a.createElement("div",{className:e.container},this.state.users.map(e=>r.a.createElement(ge,{user:e,onEdit:this.handleEdit})),r.a.createElement(fe,null)))}}var Ee=Object(l.c)(Object(E.a)(e=>({progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{margin:"48px",height:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gridAutoRows:"auto",gridGap:"16px"}}))(UserList_UserList)),we=a(563),xe=a(564),ke=a(561);var Se=class SaveUserService_SaveUserService{constructor(e,t){this.sink=void 0,this.sink=t,e.subscribe(this.getUser.bind(this))}getUser(e){const t=B.baseHost.getValue(),a=new FormData;Object.keys(e).filter(e=>"pwdConfirm"!=e).forEach(t=>a.append(t,e[t])),a.append(":name",e.firstName),a.append("isFamilyAdmin",!0);var s=t+"/api/v1/auth/user";e&&e.id&&(s=t+"/api/v1/auth/user/"+e.id),fetch(s,{method:"POST",body:a}).then(e=>(e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e)).then(e=>e.json()).then(e=>this.sink.next(e)).catch(e=>{if(401===e.status||403===e.status)window.location="/";else{var t={code:e.status,status:e.statusText,message:e.responseText||e.message};this.sink.error(t)}})}};var Ne=new class UserManagerActions_UserManagerActions{constructor(){this.saveUser={source:new _.Subject,sink:new _.Subject},this.saveUserService=new Se(this.saveUser.source,this.saveUser.sink)}};class LoadingButton_LoadingButton extends n.Component{constructor(e,t){e.style||(e.style={}),super(e),this.handleClick=this.handleClick.bind(this)}shouldComponentUpdate(e,t){return e.label!==this.props.label}handleClick(e){console.log("loading button click"),this.props.onClick?this.props.onClick(e):console.dir(this.props)}render(){var e=this.props.classes;return r.a.createElement(k.a,{color:"primary",variant:"contained",className:e.btn,style:this.props.style,onClick:this.handleClick},this.props.isLoading&&r.a.createElement(w.a,{className:e.progress,color:"#fff",size:25}),this.props.label)}}var ye=Object(l.c)(Object(E.a)(e=>({btn:{padding:"4px 12px"},progress:{marginRight:"8px"}}))(LoadingButton_LoadingButton));class usereditform_UserEditForm extends n.Component{constructor(e,t){super(e),this.handleTabChange=this.handleTabChange.bind(this),this.handleFormChange=this.handleFormChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleCancel=this.handleCancel.bind(this),this.state={selectedTab:0,user:this.props.user,isLoading:!1}}componentWillMount(){this.setState({isMounted:!0,isLoading:!1}),Ne.saveUser.sink.takeWhile(()=>this.state.isMounted).subscribe(e=>{this.setState({user:e}),this.setState({isLoading:!1}),I.navigateTo.next("/")})}componentWillReceiveProps(e,t){this.setState({user:e.user})}componentWillUnmount(){this.setState({isMounted:!1})}handleTabChange(e,t){this.setState({selectedTab:t})}handleFormChange(e){let t=this.state.user;t[e.target.id]=e.target.value,this.setState({user:t})}handleSave(e){this.setState({isLoading:!0}),Ne.saveUser.source.next(this.state.user)}handleCancel(e){this.setState({isLoading:!1}),this.props.onCancel?this.props.onCancel():I.navigateTo.next("/")}render(){var e=this.props.classes;return r.a.createElement(S.a,{className:e.outerContainer},r.a.createElement("div",{className:e.headerContainer},this.state.user&&this.state.user.id?r.a.createElement(U.a,{type:"title",variant:"h4",color:"primary",className:e.title,style:{float:"left"},display:"inline"},this.state.user.firstName," ",this.state.user.lastName):r.a.createElement(U.a,{type:"title",variant:"h4",color:"primary",className:e.title,style:{float:"left"},display:"inline"},"Create New User"),r.a.createElement("div",{style:{float:"right",margin:"16px"}},r.a.createElement(k.a,{color:"primary",style:{marginRight:"16px"},onClick:this.handleCancel},"Cancel"),r.a.createElement(ye,{style:{width:"100px"},onClick:this.handleSave,isLoading:this.state.isLoading,label:"Save"}))),r.a.createElement("div",{className:e.formContainer},r.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},r.a.createElement("div",{className:e.twoColumnGrid},r.a.createElement("div",{className:e.leftColumn},r.a.createElement(we.a,{id:"firstName",label:"First Name",className:e.textField,value:this.state.user.firstName,onChange:this.handleFormChange,margin:"normal"})),r.a.createElement("div",{className:e.rightColumn},r.a.createElement(we.a,{id:"lastName",label:"Last Name",className:e.textField,value:this.state.user.lastName,onChange:this.handleFormChange,margin:"normal"}))),r.a.createElement("div",{className:e.twoColumnGrid,style:{gridGap:"48px"}},r.a.createElement("div",{className:e.leftColumn},r.a.createElement(we.a,{id:"email",label:"Email",className:e.textField,value:this.state.user.email,onChange:this.handleFormChange,margin:"normal"})),r.a.createElement("div",{className:e.rightColumn},r.a.createElement("div",{className:e.oneColumnGrid},r.a.createElement("div",{className:e.fullColumn},r.a.createElement("div",null,"Is Family Admin"),r.a.createElement("br",{clear:"left"}),r.a.createElement(we.a,{id:"pwd",label:"pwd",type:"password",className:e.textField,value:this.state.user.pwd,onChange:this.handleFormChange,margin:"normal"}),r.a.createElement("br",{clear:"left"}),r.a.createElement(we.a,{id:"pwdConfim",label:"pwdConfim",type:"password",className:e.textField,value:this.state.user.pwdConfim,margin:"normal"}),r.a.createElement("br",{clear:"left"}))))),r.a.createElement("div",{className:e.oneColumnGrid},this.state.user.id&&r.a.createElement("div",{className:e.fullColumn,style:{gridRow:"4"}},r.a.createElement(xe.a,{value:this.state.selectedTab,fullWidth:!0,indicatorColor:"primary",textColor:"primary",className:e.textField,onChange:this.handleTabChange},r.a.createElement(ke.a,{label:"Social Networks"}),r.a.createElement(ke.a,{label:"Permission"}),r.a.createElement(ke.a,{label:"Friends"})),0===this.state.selectedTab&&r.a.createElement("div",{className:e.tabContainer},"TBD Social Networks"),1===this.state.selectedTab&&r.a.createElement("div",{className:e.tabContainer},"TBD Permission"),2===this.state.selectedTab&&r.a.createElement("div",{className:e.tabContainer},"TBD Friends"))))))}}var Ae=Object(E.a)(e=>({outerContainer:{width:"100%",height:"100%",backgroundColor:"#FFFFFF"},title:{padding:"16px"},headerContainer:{height:"64px",borderBottom:"1px solid #000000"},formContainer:{marginLeft:"48px",marginRight:"48px",clear:"left"},oneColumnGrid:{display:"grid",gridGap:"0px",gridTemplateRows:"auto auto 40px auto auto",gridTemplateColumns:"1fr auto 1fr"},twoColumnGrid:{display:"grid",gridGap:"16px",gridTemplateRows:"auto",gridTemplateColumns:"1fr 1fr"},leftColumn:{gridColumn:"1",gridRow:"1"},rightColumn:{gridColumn:"2",gridRow:"1"},fullColumn:{gridColumn:"1/4",gridRow:"1"},textField:{width:"100%",minWidth:"200px"},tabContainer:{width:"100%",minHeight:"200px",minWidth:"200px",padding:"24px"},rightTextField:{textAlign:"right",margin:"16px",width:"100%"}}))(usereditform_UserEditForm);class UserDetails_UserDetails extends n.Component{constructor(e,t){super(e),this.state={isMounted:!0,isLoading:!1,anchorEl:null,error:null,user:e.user,selectedUser:{id:null,firstName:"",lastName:""}}}componentWillMount(){this.setState({isMounted:!0,isLoading:!0});const e=this.props.userId;re.getAllUsers.sink.takeWhile(()=>this.state.isMounted).subscribe(t=>{if(t){this.setState({isLoading:!1});var a,s=Object(x.a)(t);try{for(s.s();!(a=s.n()).done;){const t=a.value;if(t.id===e){this.setState({selectedUser:t});break}}}catch(n){s.e(n)}finally{s.f()}}}),re.getAllUsers.source.next(!0),e||this.setState({isMounted:!0,isLoading:!1})}componentWillUnmount(){this.setState({isMounted:!1})}render(){var e=this.props.classes;return this.state.isLoading?r.a.createElement(Z,null,r.a.createElement(w.a,{className:e.progress,size:50}),this.state.error&&r.a.createElement(U.a,null,this.state.error)):r.a.createElement(Z,{user:this.state.user},r.a.createElement("div",{className:e.container},r.a.createElement(Ae,{user:this.state.selectedUser})))}}var Te=Object(l.c)(Object(f.f)(Object(E.a)(e=>({progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{margin:"48px",height:"100%"}}))(UserDetails_UserDetails)));class App_App extends n.Component{constructor(e,t){super(e,t),this.state={context:t,locale:"en-EN",isAuthenticated:!1,isLoading:!0,isMounted:!0}}componentWillMount(){this.setState({isMounted:!0}),re.getUser.sink.takeWhile(()=>this.state.isMounted).subscribe(e=>{e&&this.setState({isLoading:!1,isAuthenticated:!0,user:e})}),re.getUser.source.next(null)}componentWillUnmount(){this.setState({isMounted:!1})}render(){const e=this.props.classes;return this.state.isLoading?r.a.createElement("div",null,r.a.createElement(w.a,{className:e.progress,size:50})):r.a.createElement(l.a,{locale:"en-EN",key:"en-EN",messages:this.props.i18nMessages["en-EN"]},r.a.createElement(C.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:()=>r.a.createElement(Ee,{user:this.state.user})}),r.a.createElement(f.a,{path:"/new",exact:!0,component:e=>r.a.createElement(Te,{user:this.state.user,userId:e.match.params.user})}),r.a.createElement(f.a,{path:"/u/:user",component:e=>r.a.createElement(Te,{user:this.state.user,userId:e.match.params.user})}))))}}var Ue=Object(E.a)(e=>({progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}))(App_App);Object(l.b)(a(506));const Me={"en-EN":a(507)},Le=Object(p.a)({palette:{type:"light",primary:u.a,secondary:Object(s.a)({},g.a),error:v.a}});!function renderApp(){o.a.render(r.a.createElement(d.a,{theme:Le},r.a.createElement(Ue,{i18nMessages:Me})),document.getElementById("root"))}(),function register(){if("serviceWorker"in navigator){if(new URL("/usermanager",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/usermanager","/service-worker.js");c?function checkValidServiceWorker(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):registerValidSW(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e):registerValidSW(e)})}}()}},[[216,1,2]]]);
//# sourceMappingURL=main.1f5c0889.chunk.js.map