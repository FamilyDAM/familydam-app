(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t){},218:function(e,t,a){e.exports=a(502)},230:function(e,t){},236:function(e,t){},240:function(e,t,a){},501:function(e){e.exports={}},502:function(e,t,a){"use strict";a.r(t);var n=a(194),s=a(0),i=a.n(s),r=a(22),o=a.n(r),l=a(42),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var d=a(206),p=a(550),h=a(205),m=a.n(h),g=a(175),f=a.n(g),b=a(176),v=a.n(b),C=(a(240),a(15)),k=a(19),y=a(30),w=a(29),E=a(31),O=a(153),j=a(85),x=a(9),N=a(548),S=a(24),T=a(534),M=a(208),A=a(536),U=a(535),L=a(504),R=a(537),F=a(87),W=a(198),P=a.n(W),B=a(179),G=a.n(B),I=a(39),D=a(196),H=a.n(D),V=function(){function e(t,a){Object(C.a)(this,e),this.sink=void 0,this.sink=a,t.subscribe(this.loadApps.bind(this))}return Object(k.a)(e,[{key:"loadApps",value:function(e){var t=this;H.a.get("/api/v1/core/clientapps").withCredentials().set("Accept","application/json").end(function(e,a){if(e)if(401===e.status)$.navigateTo.next("/");else if(403===e.status){var n={code:e.status,message:"Invalid Login (todo: show toast)"};t.sink.error(n)}else{console.dir(e);var s={code:e.status,status:e.statusText,message:e.responseText};t.sink.error(s)}else t.sink.next({primaryApps:a.body.apps.primary,secondaryApps:a.body.apps.secondary})})}}]),e}(),z=new function e(){Object(C.a)(this,e),this.baseHost=new I.BehaviorSubject(""),this.basicUser=new I.BehaviorSubject(window.localStorage.getItem("u")),this.basicPwd=new I.BehaviorSubject(window.localStorage.getItem("p"))},J=function(){function e(t,a){Object(C.a)(this,e),this.sink=void 0,this.sink=a,t.subscribe(this.getUser.bind(this))}return Object(k.a)(e,[{key:"getUser",value:function(e){var t=this,a=z.baseHost.getValue();fetch(a+"/logout",{method:"GET"}).then(function(e){return e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e}).catch(function(e){if(401===e.status||403===e.status)window.location="/";else{var a={code:e.status,status:e.statusText,message:e.responseText};t.sink.error(a)}})}}]),e}(),$=new function e(){Object(C.a)(this,e),this.navigateTo=new I.Subject,this.logout={source:new I.Subject,sink:new I.Subject},this.loadClientApps={source:new I.Subject,sink:new I.Subject},this.loadClientAppsService=new V(this.loadClientApps.source,this.loadClientApps.sink),this.logoutService=new J(this.logout.source,this.logout.sink)},q=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).handleNavClick=n.handleNavClick.bind(Object(S.a)(n)),n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.open!==this.props.open||e.user!==this.props.user||e.apps!==this.props.apps||e.secondaryApps!==this.props.secondaryApps}},{key:"handleNavClick",value:function(e){this.props.onNavClick&&this.props.onNavClick(e)}},{key:"handleLogout",value:function(){window.localStorage.clear(),$.logout.source.next(!0),$.navigateTo.next("://")}},{key:"findApp",value:function(e,t){if(t){var a=!0,n=!1,s=void 0;try{for(var i,r=t[Symbol.iterator]();!(a=(i=r.next()).done);a=!0){var o=i.value;if(o.slug===e)return o}}catch(l){n=!0,s=l}finally{try{a||null==r.return||r.return()}finally{if(n)throw s}}}return null}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.findApp("usermanager",this.props.secondaryApps);return i.a.createElement(M.a,{className:this.props.open?t.sidebarOpen:t.sidebarClosed},i.a.createElement(M.a,{className:this.props.open?t.sidebarUserInfo:t.sidebarUserInfoClosed},i.a.createElement("div",{className:t.sidebarProfileIcon},i.a.createElement(G.a,{style:{width:60,height:60}})),i.a.createElement("div",{className:t.sidebarProfileName},i.a.createElement(F.a,{component:"div",type:"title"},this.props.user.firstName," ",this.props.user.lastName)),i.a.createElement("div",{className:t.sidebarButtons},i.a.createElement(T.a,{onClick:this.handleLogout},"Logout"),a&&i.a.createElement(T.a,{onClick:function(){return $.navigateTo.next(a.path)}},"Profile"))),i.a.createElement("div",{className:this.props.open?t.appListsOpen:t.appListsClosed},i.a.createElement("div",{style:{gridColumn:"1",gridRow:"1"}},i.a.createElement(F.a,{type:"title",className:this.props.open?t.openLabel:t.closedLabel,style:{paddingLeft:"16px",paddingTop:"16px",gridColumn:"1",gridRow:"1"}},"Apps")),i.a.createElement(U.a,{style:{gridColumn:"1",gridRow:"2"}},this.props.apps&&this.props.apps.map(function(a){return i.a.createElement(L.a,{button:!0,key:a.path,onClick:function(){return e.handleNavClick(a.path)}},i.a.createElement(A.a,{style:{marginRight:"8px"}},i.a.createElement(P.a,null)),i.a.createElement(R.a,{primary:a.label,secondary:"",className:e.props.open?t.openLabel:t.closedLabel}))})),i.a.createElement(U.a,{style:{gridColumn:"1",gridRow:"3"},className:this.props.open?t.closedLabel:t.openLabel},i.a.createElement(L.a,{button:!0,onClick:function(){return e.handleNavClick("://app-usermanager/index.html")}},i.a.createElement(A.a,null,i.a.createElement(G.a,{style:{width:48,height:48}}))))))}}]),t}(s.Component),K=Object(l.c)(Object(x.a)(function(e){return{sidebarOpen:{width:"240px",height:"100vh",background:"#fff"},sidebarClosed:{width:"72px",height:"100vh",background:"#fff"},sidebarUserInfo:{width:"100%",padding:"8px",display:"grid",gridGap:"8px",gridTemplateRows:"auto",gridTemplateColumns:"60px auto"},sidebarUserInfoClosed:{display:"none"},sidebarProfileIcon:{gridColumn:"1",gridRow:"1"},sidebarProfileName:{gridColumn:"2",gridRow:"1",alignSelf:"center"},sidebarButtons:{gridColumn:"1/3",gridRow:"2",justifySelf:"center"},appListsOpen:{display:"grid",gridGap:"0px",gridTemplateRows:"24px auto",gridTemplateColumns:"auto",marginTop:"16px"},appListsClosed:{height:"90%",display:"grid",gridGap:"0px",gridTemplateRows:"0px auto 72px",gridTemplateColumns:"auto"},openLabel:{display:"inline"},closedLabel:{display:"none"}}})(q)),Q=a(538),X=a(539),Y=a(540),Z=a(542),_=a(207),ee=a(541),te=a(200),ae=a.n(te),ne=a(199),se=a.n(ne),ie=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={openMoreMenu:!1},n.handleToggle=n.handleToggle.bind(Object(S.a)(n)),n.handleOpenMoreMenu=n.handleOpenMoreMenu.bind(Object(S.a)(n)),n.handleLogout=n.handleLogout.bind(Object(S.a)(n)),n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.onToggle!==this.props.onToggle||e.apps!==this.props.apps}},{key:"handleOpenMoreMenu",value:function(e){this.setState({openMoreMenu:!0,openMoreMenuAnchorEl:e.currentTarget})}},{key:"handleToggle",value:function(){this.props.onToggle&&this.props.onToggle()}},{key:"handleNavClick",value:function(e){this.props.onNavClick&&this.props.onNavClick(e)}},{key:"handleMenuClose",value:function(){this.setState({openMoreMenu:!1})}},{key:"handleLogout",value:function(){window.localStorage.clear(),$.logout.source.next(!0),window.location="/"}},{key:"render2",value:function(){return i.a.createElement("div",null,"header")}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(Q.a,{className:t.root,position:"static"},i.a.createElement(X.a,null,i.a.createElement(Y.a,{onClick:this.handleToggle,className:t.menuButton,color:"contrast","aria-label":"Menu"},i.a.createElement(se.a,null)),i.a.createElement(F.a,{variant:"h5",color:"inherit",className:t.flex,onClick:function(){return e.handleNavClick("://home/index.html")}},"Family ",i.a.createElement("i",null,"D.A.M")),i.a.createElement(Y.a,{"aria-label":"More","aria-owns":this.state.open?"long-menu":null,"aria-haspopup":"true",onClick:this.handleOpenMoreMenu,className:t.moreButton},i.a.createElement(ae.a,null)),i.a.createElement(_.a,{id:"long-menu",keepMounted:!0,anchorEl:this.state.openMoreMenuAnchorEl,open:this.state.openMoreMenu},i.a.createElement(ee.a,{onClick:function(){e.handleLogout(),e.handleMenuClose()}},"Logout"),i.a.createElement(Z.a,null),this.props.apps&&this.props.apps.map(function(t){return i.a.createElement(ee.a,{key:t.path,color:"contrast",onClick:function(){e.handleNavClick(t.path),e.handleMenuClose()}},t.label)}))))}}]),t}(s.Component),re=Object(l.c)(Object(x.a)(function(e){return{root:{width:"100%",height:"64px"},headerContainer:{display:"grid",gridTemplateRows:"auto",gridTemplateColumns:"48px auto 48px"},hamburgerMenu:{display:"block",gridRow:"1",gridColumn:"1"},mainSection:{gridRow:"1",gridColumn:"2"},rightSection:{gridRow:"2",gridColumn:"3",textAlign:"right"},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20,color:"#ffffff"},moreButton:{color:"#ffffff"}}})(ie)),oe=function(e){function t(e,a){var n;Object(C.a)(this,t),n=Object(y.a)(this,Object(w.a)(t).call(this,e));var s=window.localStorage.getItem("AppShell.isOpen");return s||(s=void 0===e.open||e.open),n.state={isMounted:!0,isOpen:Boolean(s)},n.handleOpenCloseToggle=n.handleOpenCloseToggle.bind(Object(S.a)(n)),n.handleOpenMoreMenu=n.handleOpenMoreMenu.bind(Object(S.a)(n)),n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.open!==this.props.open||e.user!==this.props.user||e.children!==this.props.children}},{key:"componentWillMount",value:function(){var e=this;this.setState({isMounted:!0}),$.navigateTo.takeWhile(function(){return e.state.isMounted}).subscribe(function(e){"://"!==e&&"://"===e.substring(0,3)?window.location.href=e.substring(2):this.props.history&&this.props.history.push(e)}.bind(this)),$.loadClientApps.sink.subscribe(function(t){t&&e.setState({primaryApps:t.primaryApps,secondaryApps:t.secondaryApps})}),$.loadClientApps.source.next(!0)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"handleOpenMoreMenu",value:function(e){this.setState({openMoreMenu:!0,openMoreMenuAnchorEl:e.currentTarget})}},{key:"handleOpenCloseToggle",value:function(){var e=!this.state.isOpen;this.setState({isOpen:e}),window.localStorage.setItem("AppShell.isOpen",e)}},{key:"handleLogout",value:function(){window.localStorage.clear(),$.logout.source.next(!0),$.navigateTo.next("://")}},{key:"render",value:function(){var e=this.props.classes;return this.props.user?i.a.createElement("div",{className:this.state.isOpen?e.dashboardShellContainerOpen:e.dashboardShellContainerClosed},i.a.createElement("header",{className:e.header},i.a.createElement(re,{apps:this.state.secondaryApps,onToggle:this.handleOpenCloseToggle,onNavClick:function(e){return $.navigateTo.next(e)}})),i.a.createElement(K,{user:this.props.user,apps:this.state.primaryApps,secondaryApps:this.state.secondaryApps,open:this.state.isOpen,onNavClick:function(e){return $.navigateTo.next(e)}}),i.a.createElement("div",{className:e.main},this.props.children)):i.a.createElement("div",null)}}]),t}(s.Component),le=Object(l.c)(Object(j.f)(Object(x.a)(function(e){return{dashboardShellContainerOpen:{display:"grid",gridTemplateRows:"64px auto",gridTemplateColumns:"240px auto"},dashboardShellContainerClosed:{display:"grid",gridTemplateRows:"64px auto",gridTemplateColumns:"72px auto"},header:{gridColumn:"1/3",gridRow:"1",position:"inherit",height:"64px"},main:{background:"#eee"}}})(oe))),ce=function(){function e(t,a){Object(C.a)(this,e),this.sink=void 0,this.sink=a,t.subscribe(this.getUser.bind(this))}return Object(k.a)(e,[{key:"getUser",value:function(e){var t=this,a=z.baseHost.getValue();fetch(a+"/api/v1/auth/user/me",{method:"GET"}).then(function(e){return e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e}).then(function(e){return e.json()}).then(function(e){e.firstName||(e.firstName=e.username),t.sink.next(e)}).catch(function(e){if(401===e.status||403===e.status)window.location="/";else{var a={code:e.status,status:e.statusText,message:e.responseText||e.message};t.sink.error(a)}})}}]),e}(),ue=a(182),de=a.n(ue),pe=a(202),he=function(){function e(t,a,n){Object(C.a)(this,e),this.sink=void 0,this.sink=a,t.subscribe(this.getUsers.bind(this))}return Object(k.a)(e,[{key:"getUsers",value:function(){var e=Object(pe.a)(de.a.mark(function e(){var t,a,n,s,i=this;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=z.baseHost.getValue(),a=t+"/api/v1/auth/users",(n=new Headers).append("pragma","no-cache"),n.append("cache-control","no-cache"),e.next=7,fetch(a,{method:"GET",cache:"no-cache",headers:n}).then(function(e){return e.json()}).then(function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];void 0===n.firstName&&(n.firstName=n.username),t.push(n)}return t.sort(function(e,t){return e.username>t.username?1:e.username<t.username?-1:0})}).catch(function(e){if(401===e.status||403===e.status)window.location="/";else{var t={code:e.status,status:e.statusText,message:e.responseText||e.message};i.sink.error(t),me.getAllUsers.source.next(!0)}});case 7:(s=e.sent)&&this.sink.next(s);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),me=new function e(){Object(C.a)(this,e),this.getUser={source:new I.Subject,sink:new I.Subject},this.getAllUsers={source:new I.Subject,sink:new I.Subject},this.getUserService=new ce(this.getUser.source,this.getUser.sink),this.getAllUsersService=new he(this.getAllUsers.source,this.getAllUsers.sink)},ge=a(127),fe=a.n(ge),be=a(543),ve=a(544),Ce=a(545),ke=a(546),ye=a(203),we=a.n(ye),Ee=a(165),Oe=function(e){function t(e,a){return Object(C.a)(this,t),Object(y.a)(this,Object(w.a)(t).call(this,e))}return Object(E.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement(be.a,{className:t.card},i.a.createElement(ve.a,{avatar:i.a.createElement(A.a,{"aria-label":"recipe",className:t.avatar},this.props.user.firstName.substring(0,1)),title:i.a.createElement(fe.a,null,this.props.user.firstName),subheader:i.a.createElement(fe.a,{color:"textSecondary"},this.props.user.email)}),i.a.createElement(Ce.a,null),i.a.createElement(ke.a,{disableSpacing:!0},i.a.createElement(Y.a,{"aria-label":"share"},i.a.createElement(we.a,{onClick:function(){return e.props.onEdit(e.props.user)}}))))}}]),t}(s.Component),je=Object(x.a)(function(e){return{card:{maxWidth:"100%",maxHeight:"200px",height:"100%"},media:{height:0,paddingTop:"56.25%"},avatar:{backgroundColor:Ee.a[500]}}})(Oe),xe=a(547),Ne=a(204),Se=a.n(Ne),Te=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(S.a)(n)),n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"handleClick",value:function(e){$.navigateTo.next("/new")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(be.a,{className:e.card},i.a.createElement(ve.a,null),i.a.createElement(Ce.a,{className:e.content},i.a.createElement(xe.a,{color:"secondary","aria-label":"add",className:e.fab,onClick:this.handleClick},i.a.createElement(Se.a,null)),i.a.createElement(fe.a,{align:"center",onClick:this.handleClick,style:{marginTop:"16px"}},"Add Family Member")),i.a.createElement(ke.a,null))}}]),t}(s.Component),Me=Object(x.a)(function(e){return{card:{maxWidth:"100%",maxHeight:"200px",height:"100%"},content:{textAlign:"center"},fab:{margin:e.spacing(1)}}})(Te),Ae=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).handleAddUserClick=n.handleAddUserClick.bind(Object(S.a)(n)),n.handleClick=n.handleClick.bind(Object(S.a)(n)),n.handleClose=n.handleClose.bind(Object(S.a)(n)),n.handleEdit=n.handleEdit.bind(Object(S.a)(n)),n.state={isMounted:!0,isLoading:!1,anchorEl:null,users:[]},n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({isMounted:!0,isLoading:!0}),me.getAllUsers.sink.takeWhile(function(){return e.state.isMounted}).subscribe(function(t){t&&e.setState({isLoading:!1,users:t})}),me.getAllUsers.source.next(!0)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"handleAddUserClick",value:function(){}},{key:"handleClick",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"handleClose",value:function(){this.setState({anchorEl:null})}},{key:"handleEdit",value:function(e){this.setState({anchorEl:null}),$.navigateTo.next("/u/"+e.id)}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.isLoading?i.a.createElement(le,{user:this.props.user},i.a.createElement(N.a,{className:t.progress,size:50})):i.a.createElement(le,{user:this.props.user},i.a.createElement("div",{className:t.container},this.state.users.map(function(t){return i.a.createElement(je,{user:t,onEdit:e.handleEdit})}),i.a.createElement(Me,null)))}}]),t}(s.Component),Ue=Object(l.c)(Object(x.a)(function(e){return{progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{margin:"48px",height:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gridAutoRows:"auto",gridGap:"16px"}}})(Ae)),Le=a(551),Re=a(552),Fe=a(549),We=function(){function e(t,a){Object(C.a)(this,e),this.sink=void 0,this.sink=a,t.subscribe(this.getUser.bind(this))}return Object(k.a)(e,[{key:"getUser",value:function(e){var t=this,a=z.baseHost.getValue(),n=new FormData;Object.keys(e).filter(function(e){return"pwdConfirm"!=e}).forEach(function(t){return n.append(t,e[t])}),n.append(":name",e.firstName),n.append("isFamilyAdmin",!0);var s=a+"/api/v1/auth/user";e&&e.id&&(s=a+"/api/v1/auth/user/"+e.id),fetch(s,{method:"POST",body:n}).then(function(e){return e.redirected&&(console.log("redirect to: "+e.url),window.location=e.url),e}).then(function(e){return e.json()}).then(function(e){return t.sink.next(e)}).catch(function(e){if(401===e.status||403===e.status)window.location="/";else{var a={code:e.status,status:e.statusText,message:e.responseText||e.message};t.sink.error(a)}})}}]),e}(),Pe=new function e(){Object(C.a)(this,e),this.saveUser={source:new I.Subject,sink:new I.Subject},this.saveUserService=new We(this.saveUser.source,this.saveUser.sink)},Be=function(e){function t(e,a){var n;return Object(C.a)(this,t),e.style||(e.style={}),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(S.a)(n)),n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.label!==this.props.label}},{key:"handleClick",value:function(e){console.log("loading button click"),this.props.onClick?this.props.onClick(e):console.dir(this.props)}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(T.a,{color:"primary",variant:"contained",className:e.btn,style:this.props.style,onClick:this.handleClick},this.props.isLoading&&i.a.createElement(N.a,{className:e.progress,color:"#fff",size:25}),this.props.label)}}]),t}(s.Component),Ge=Object(l.c)(Object(x.a)(function(e){return{btn:{padding:"4px 12px"},progress:{marginRight:"8px"}}})(Be)),Ie=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).handleTabChange=n.handleTabChange.bind(Object(S.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(S.a)(n)),n.handleSave=n.handleSave.bind(Object(S.a)(n)),n.handleCancel=n.handleCancel.bind(Object(S.a)(n)),n.state={selectedTab:0,user:n.props.user,isLoading:!1},n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({isMounted:!0,isLoading:!1}),Pe.saveUser.sink.takeWhile(function(){return e.state.isMounted}).subscribe(function(t){e.setState({user:t}),e.setState({isLoading:!1}),$.navigateTo.next("/")})}},{key:"componentWillReceiveProps",value:function(e,t){this.setState({user:e.user})}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"handleTabChange",value:function(e,t){this.setState({selectedTab:t})}},{key:"handleFormChange",value:function(e){var t=this.state.user;t[e.target.id]=e.target.value,this.setState({user:t})}},{key:"handleSave",value:function(e){this.setState({isLoading:!0}),Pe.saveUser.source.next(this.state.user)}},{key:"handleCancel",value:function(e){this.setState({isLoading:!1}),this.props.onCancel?this.props.onCancel():$.navigateTo.next("/")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(M.a,{className:e.outerContainer},i.a.createElement("div",{className:e.headerContainer},this.state.user&&this.state.user.id?i.a.createElement(F.a,{type:"title",variant:"h4",color:"primary",className:e.title,style:{float:"left"},display:"inline"},this.state.user.firstName," ",this.state.user.lastName):i.a.createElement(F.a,{type:"title",variant:"h4",color:"primary",className:e.title,style:{float:"left"},display:"inline"},"Create New User"),i.a.createElement("div",{style:{float:"right",margin:"16px"}},i.a.createElement(T.a,{color:"primary",style:{marginRight:"16px"},onClick:this.handleCancel},"Cancel"),i.a.createElement(Ge,{style:{width:"100px"},onClick:this.handleSave,isLoading:this.state.isLoading,label:"Save"}))),i.a.createElement("div",{className:e.formContainer},i.a.createElement("form",{className:e.container,noValidate:!0,autoComplete:"off"},i.a.createElement("div",{className:e.twoColumnGrid},i.a.createElement("div",{className:e.leftColumn},i.a.createElement(Le.a,{id:"firstName",label:"First Name",className:e.textField,value:this.state.user.firstName,onChange:this.handleFormChange,margin:"normal"})),i.a.createElement("div",{className:e.rightColumn},i.a.createElement(Le.a,{id:"lastName",label:"Last Name",className:e.textField,value:this.state.user.lastName,onChange:this.handleFormChange,margin:"normal"}))),i.a.createElement("div",{className:e.twoColumnGrid,style:{gridGap:"48px"}},i.a.createElement("div",{className:e.leftColumn},i.a.createElement(Le.a,{id:"email",label:"Email",className:e.textField,value:this.state.user.email,onChange:this.handleFormChange,margin:"normal"})),i.a.createElement("div",{className:e.rightColumn},i.a.createElement("div",{className:e.oneColumnGrid},i.a.createElement("div",{className:e.fullColumn},i.a.createElement("div",null,"Is Family Admin"),i.a.createElement("br",{clear:"left"}),i.a.createElement(Le.a,{id:"pwd",label:"pwd",type:"password",className:e.textField,value:this.state.user.pwd,onChange:this.handleFormChange,margin:"normal"}),i.a.createElement("br",{clear:"left"}),i.a.createElement(Le.a,{id:"pwdConfim",label:"pwdConfim",type:"password",className:e.textField,value:this.state.user.pwdConfim,margin:"normal"}),i.a.createElement("br",{clear:"left"}))))),i.a.createElement("div",{className:e.oneColumnGrid},this.state.user.id&&i.a.createElement("div",{className:e.fullColumn,style:{gridRow:"4"}},i.a.createElement(Re.a,{value:this.state.selectedTab,fullWidth:!0,indicatorColor:"primary",textColor:"primary",className:e.textField,onChange:this.handleTabChange},i.a.createElement(Fe.a,{label:"Social Networks"}),i.a.createElement(Fe.a,{label:"Permission"}),i.a.createElement(Fe.a,{label:"Friends"})),0===this.state.selectedTab&&i.a.createElement("div",{className:e.tabContainer},"TBD Social Networks"),1===this.state.selectedTab&&i.a.createElement("div",{className:e.tabContainer},"TBD Permission"),2===this.state.selectedTab&&i.a.createElement("div",{className:e.tabContainer},"TBD Friends"))))))}}]),t}(s.Component),De=Object(x.a)(function(e){return{outerContainer:{width:"100%",height:"100%",backgroundColor:"#FFFFFF"},title:{padding:"16px"},headerContainer:{height:"64px",borderBottom:"1px solid #000000"},formContainer:{marginLeft:"48px",marginRight:"48px",clear:"left"},oneColumnGrid:{display:"grid",gridGap:"0px",gridTemplateRows:"auto auto 40px auto auto",gridTemplateColumns:"1fr auto 1fr"},twoColumnGrid:{display:"grid",gridGap:"16px",gridTemplateRows:"auto",gridTemplateColumns:"1fr 1fr"},leftColumn:{gridColumn:"1",gridRow:"1"},rightColumn:{gridColumn:"2",gridRow:"1"},fullColumn:{gridColumn:"1/4",gridRow:"1"},textField:{width:"100%",minWidth:"200px"},tabContainer:{width:"100%",minHeight:"200px",minWidth:"200px",padding:"24px"},rightTextField:{textAlign:"right",margin:"16px",width:"100%"}}})(Ie),He=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e))).state={isMounted:!0,isLoading:!1,anchorEl:null,error:null,user:e.user,selectedUser:{id:null,firstName:"",lastName:""}},n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({isMounted:!0,isLoading:!0});var t=this.props.userId;me.getAllUsers.sink.takeWhile(function(){return e.state.isMounted}).subscribe(function(a){if(a){e.setState({isLoading:!1});var n=!0,s=!1,i=void 0;try{for(var r,o=a[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=r.value;if(l.id===t){e.setState({selectedUser:l});break}}}catch(c){s=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(s)throw i}}}}),me.getAllUsers.source.next(!0),t||this.setState({isMounted:!0,isLoading:!1})}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"render",value:function(){var e=this.props.classes;return this.state.isLoading?i.a.createElement(le,null,i.a.createElement(N.a,{className:e.progress,size:50}),this.state.error&&i.a.createElement(F.a,null,this.state.error)):i.a.createElement(le,{user:this.state.user},i.a.createElement("div",{className:e.container},i.a.createElement(De,{user:this.state.selectedUser})))}}]),t}(s.Component),Ve=Object(l.c)(Object(j.f)(Object(x.a)(function(e){return{progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{margin:"48px",height:"100%"}}})(He))),ze=function(e){function t(e,a){var n;return Object(C.a)(this,t),(n=Object(y.a)(this,Object(w.a)(t).call(this,e,a))).state={context:a,locale:"en-EN",isAuthenticated:!1,isLoading:!0,isMounted:!0},n}return Object(E.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({isMounted:!0}),me.getUser.sink.takeWhile(function(){return e.state.isMounted}).subscribe(function(t){t&&e.setState({isLoading:!1,isAuthenticated:!0,user:t})}),me.getUser.source.next(null)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes;return this.state.isLoading?i.a.createElement("div",null,i.a.createElement(N.a,{className:t.progress,size:50})):i.a.createElement(l.a,{locale:"en-EN",key:"en-EN",messages:this.props.i18nMessages["en-EN"]},i.a.createElement(O.a,null,i.a.createElement(j.c,null,i.a.createElement(j.a,{path:"/",exact:!0,component:function(){return i.a.createElement(Ue,{user:e.state.user})}}),i.a.createElement(j.a,{path:"/new",exact:!0,component:function(t){return i.a.createElement(Ve,{user:e.state.user,userId:t.match.params.user})}}),i.a.createElement(j.a,{path:"/u/:user",component:function(t){return i.a.createElement(Ve,{user:e.state.user,userId:t.match.params.user})}}))))}}]),t}(s.Component),Je=Object(x.a)(function(e){return{progress:{margin:"0 ".concat(e.spacing(2),"px"),width:"100px",height:"100px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})(ze);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}Object(l.b)(a(500));var qe={"en-EN":a(501)},Ke=Object(d.a)({palette:{type:"light",primary:m.a,secondary:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach(function(t){Object(n.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},f.a),error:v.a}});o.a.render(i.a.createElement(p.a,{theme:Ke},i.a.createElement(Je,{i18nMessages:qe})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/usermanager",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/usermanager","/service-worker.js");c?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):u(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):u(e)})}}()}},[[218,1,2]]]);
//# sourceMappingURL=main.602cd9f4.chunk.js.map